import { block1Prompts } from './python/block1';
import { block2Prompts } from './python/block2';

export const getPythonLessonPrompt = (lessonId: string) => {
  const [blockIndex, lessonIndex] = lessonId.split("-").map(Number);
  
  const blocks = {
    1: block1Prompts,
    2: block2Prompts,
    3: {
      lesson1: `Объясни работу с модулями в Python:
        - Что такое модули и зачем они нужны
        - Как импортировать модули
        - Создание собственных модулей
        - Работа с пакетами
        - Структура проекта с модулями
        Приведи практические примеры создания и использования модулей.`,
      lesson2: `Расскажи о работе с файлами в Python:
        - Открытие и закрытие файлов
        - Чтение и запись текстовых файлов
        - Работа с JSON файлами
        - Обработка ошибок при работе с файлами
        - Менеджеры контекста (with)
        Добавь примеры кода для разных операций с файлами.`,
      lesson3: `Объясни работу с виртуальными окружениями:
        - Что такое виртуальное окружение и зачем оно нужно
        - Создание виртуального окружения через venv
        - Активация и деактивация окружения
        - Установка пакетов через pip
        - Создание requirements.txt
        Приведи пошаговые инструкции с примерами команд.`
    },
    4: {
      lesson1: `Объясни работу с исключениями в Python:
        - Что такое исключения и зачем они нужны
        - Конструкция try-except
        - Типы встроенных исключений
        - Создание собственных исключений
        - Блоки finally и else
        Добавь примеры обработки разных типов ошибок.`,
      lesson2: `Расскажи об отладке программ на Python:
        - Инструменты отладки
        - Использование точек останова
        - Отладка через print()
        - Работа с отладчиком в VS Code
        - Типичные ошибки и их исправление
        Приведи практические примеры отладки кода.`
    },
    5: {
      lesson1: `Расскажи о встроенных модулях Python:
        - Обзор популярных встроенных модулей
        - Работа с datetime для дат и времени
        - Использование random для генерации случайных чисел
        - Математические функции из модуля math
        - Работа с файловой системой через os
        Приведи примеры использования каждого модуля.`,
      lesson2: `Объясни работу с внешними библиотеками:
        - Установка библиотек через pip
        - Работа с requirements.txt
        - Создание виртуального окружения
        - Обновление библиотек
        - Управление зависимостями
        Добавь примеры команд и конфигураций.`,
      lesson3: `Расскажи о популярных библиотеках Python:
        - Библиотеки для работы с данными (pandas, numpy)
        - HTTP-запросы с requests
        - Веб-фреймворки (Flask, Django)
        - Работа с Excel (openpyxl)
        - Библиотеки для анализа данных
        Приведи примеры использования каждой библиотеки.`
    },
    6: {
      lesson1: `Расскажи об автоматизации задач с Python:
        - Какие задачи можно автоматизировать
        - Работа с файловой системой
        - Создание скриптов автоматизации
        - Планировщик задач
        - Аргументы командной строки
        Приведи практические примеры автоматизации.`,
      lesson2: `Объясни работу с документами в Python:
        - Чтение и запись Excel файлов
        - Создание и модификация PDF
        - Извлечение данных из PDF
        - Форматирование в Excel
        - Автоматизация отчетности
        Добавь примеры кода для работы с документами.`
    },
    7: {
      lesson1: `Расскажи о стандартах кодирования Python:
        - Основные правила PEP8
        - Автоматическое форматирование кода
        - Инструменты проверки качества кода
        - Написание документации
        - Принципы чистого кода
        Приведи примеры хорошего и плохого кода.`,
      lesson2: `Объясни как создать портфолио Python-разработчика:
        - Какие проекты включить в портфолио
        - Оформление README.md
        - Важные метрики на GitHub
        - Ведение истории коммитов
        - Демонстрация навыков
        Добавь примеры хороших проектов для портфолио.`,
      lesson3: `Расскажи о подготовке к собеседованиям:
        - Алгоритмические задачи
        - Подготовка к техническому собеседованию
        - Частые вопросы по Python
        - Прохождение тестовых заданий
        - Презентация проектов
        Приведи примеры типичных задач и вопросов.`
    }
  };

  const block = blocks[blockIndex];
  const lesson = block?.[`lesson${lessonIndex}`];

  if (!block || !lesson) {
    console.error(`Invalid lesson ID: ${lessonId}, Block: ${blockIndex}, Lesson: ${lessonIndex}`);
    throw new Error(`Урок ${lessonId} не найден. Пожалуйста, проверьте правильность ID урока.`);
  }

  console.log(`Generated prompt for lesson ${lessonId}`);
  return lesson;
};