export const getPythonLessonPrompt = (lessonId: string) => {
  const [blockIndex, lessonIndex] = lessonId.split("-").map(Number);
  
  const blocks = [
    {
      title: "Введение в программирование и установка Python",
      lessons: [
        "Знакомство с Python",
        "Установка Python",
        "Настройка редактора кода",
        "Проверка установки Python"
      ]
    },
    {
      title: "Основы программирования на Python",
      lessons: [
        "Переменные и типы данных",
        "Ввод и вывод данных",
        "Условные операторы",
        "Циклы",
        "Коллекции данных",
        "Функции"
      ]
    },
    {
      title: "Работа с библиотеками",
      lessons: [
        "Популярные встроенные модули",
        "Установка сторонних библиотек",
        "Полезные библиотеки для Python-разработчика"
      ]
    },
    {
      title: "Основы веб-разработки на Python",
      lessons: [
        "Введение во Flask",
        "Шаблонизация",
        "Обработка форм и запросов",
        "Основы REST API"
      ]
    },
    {
      title: "Продвинутые темы",
      lessons: [
        "Асинхронное программирование",
        "Параллельность и многопоточность",
        "Архитектура и паттерны"
      ]
    }
  ];

  const block = blocks[blockIndex - 1];
  const lesson = block?.lessons[lessonIndex - 1];

  if (!block || !lesson) {
    throw new Error('Invalid lesson ID');
  }

  return `Расскажи подробно как будто ты преподаватель и преподаешь курс Python PRO, урок из модуля "${block.title}" на тему: "${lesson}". Используй много практических примеров и объясняй сложные концепции простым языком. Добавь примеры кода где это уместно.`;
};

export const getDevOpsLessonPrompt = (lessonId: string) => {
  const [, moduleIndex, topicIndex] = lessonId.split("-").map(Number);
  
  const modules = [
    {
      title: "Введение в DevOps",
      topics: [
        "Что такое DevOps и зачем он нужен?",
        "Основные концепции DevOps",
        "Культура DevOps: взаимодействие команд",
        "Основные задачи DevOps-инженера",
        "Обзор инструментов DevOps"
      ]
    },
    {
      title: "Контроль версий и управление исходным кодом",
      topics: [
        "Основы Git и GitHub/GitLab",
        "Создание репозиториев, работа с ветками",
        "Ревью кода и pull requests",
        "GitOps и управление инфраструктурой через код",
        "Концепция Infrastructure as Code (IaC)"
      ]
    },
    {
      title: "Контейнеризация и управление контейнерами",
      topics: [
        "Docker: основы и практика",
        "Работа с Docker Compose",
        "Kubernetes: основы и архитектура",
        "Управление кластерами Kubernetes",
        "Практика работы с контейнерами"
      ]
    },
    {
      title: "CI/CD (Непрерывная интеграция и доставка)",
      topics: [
        "Основы CI/CD",
        "Jenkins: установка и настройка",
        "GitHub Actions",
        "Автоматизация процессов",
        "Практика создания пайплайнов"
      ]
    },
    {
      title: "Мониторинг и логирование",
      topics: [
        "Основы мониторинга",
        "Prometheus и Grafana",
        "Системы логирования",
        "ELK Stack",
        "Практика настройки мониторинга"
      ]
    },
    {
      title: "Безопасность в DevOps",
      topics: [
        "Основы DevSecOps",
        "Сканирование уязвимостей",
        "Управление секретами",
        "Безопасность контейнеров",
        "Практика безопасной разработки"
      ]
    },
    {
      title: "Работа с облачными платформами",
      topics: [
        "Введение в облачные технологии",
        "AWS основы",
        "Azure и Google Cloud",
        "Terraform",
        "Практика работы с облаком"
      ]
    },
    {
      title: "Оркестрация и автоматизация",
      topics: [
        "Ansible основы",
        "Написание playbooks",
        "HashiCorp инструменты",
        "Consul и Nomad",
        "Практика автоматизации"
      ]
    },
    {
      title: "Финальный проект",
      topics: [
        "Планирование DevOps проекта",
        "Реализация CI/CD",
        "Настройка мониторинга",
        "Обеспечение безопасности",
        "Защита проекта"
      ]
    }
  ];

  const module = modules[moduleIndex - 1];
  const topic = module?.topics[topicIndex - 1];

  if (!module || !topic) {
    throw new Error('Invalid lesson ID');
  }

  return `Расскажи подробно как будто ты преподаватель и преподаешь курс DevOps-инженер PRO, урок из модуля "${module.title}" на тему: "${topic}". Используй много практических примеров и объясняй сложные концепции простым языком. Добавь примеры кода где это уместно.`;
};

export const getBusinessAnalystLessonPrompt = (lessonId: string) => {
  const [, blockIndex, lessonIndex] = lessonId.split("-").map(Number);
  
  const blocks = [
    {
      title: "Введение в бизнес-анализ",
      lessons: [
        "Основы профессии бизнес-аналитика",
        "Основы проектного подхода",
        "Знакомство с ключевыми инструментами"
      ]
    },
    {
      title: "Сбор и анализ требований",
      lessons: [
        "Методы сбора требований",
        "Анализ и документирование требований",
        "Управление изменениями требований"
      ]
    },
    {
      title: "Анализ данных и визуализация",
      lessons: [
        "Основы анализа данных",
        "Работа с инструментами анализа",
        "Визуализация данных"
      ]
    },
    {
      title: "Моделирование процессов",
      lessons: [
        "Введение в моделирование бизнес-процессов",
        "Разработка бизнес-процессов",
        "Документирование и представление моделей"
      ]
    },
    {
      title: "Основы управления проектами",
      lessons: [
        "Роли и ответственность",
        "Инструменты управления проектами",
        "Практическое применение"
      ]
    },
    {
      title: "Финансовый анализ и оценка",
      lessons: [
        "Основы финансов для бизнес-аналитика",
        "Подготовка бизнес-кейсов",
        "Практическое применение"
      ]
    },
    {
      title: "Взаимодействие со стейкхолдерами",
      lessons: [
        "Определение и управление стейкхолдерами",
        "Структура и подача информации",
        "Практика взаимодействия"
      ]
    },
    {
      title: "Завершающий проект",
      lessons: [
        "Работа над командным проектом",
        "Подготовка к трудоустройству",
        "Итоговая работа"
      ]
    }
  ];

  const block = blocks[blockIndex - 1];
  const lesson = block?.lessons[lessonIndex - 1];

  if (!block || !lesson) {
    throw new Error('Invalid lesson ID');
  }

  return `Расскажи подробно как будто ты преподаватель и преподаешь курс Бизнес-аналитик PRO, урок из модуля "${block.title}" на тему: "${lesson}". Используй много практических примеров и объясняй сложные концепции простым языком. Добавь примеры документов, диаграмм или инструментов где это уместно.`;
};
